:root{
  --gap:16px;
  --bg:#fbfbfd;                 /* light pastel canvas */
  --card:#ffffff;               /* white cards */
  --text:#2a2a33;               /* soft charcoal */
  --muted:#7c8591;              /* cool grey */
  --border:#e7e9f2;

  /* accent pastels */
  --accent:#6aa6ff;   /* cornflower */
  --accent-2:#ff9fb3; /* rose */
  --accent-3:#90e0c5; /* mint */
  --accent-4:#ffd08a; /* apricot */
  --accent-5:#c9b6ff; /* lilac */
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
  overflow-x:hidden;
}

/* Header */
header{
  padding:20px;
  background:linear-gradient(180deg,#f3f6ff, #fff);
  position:sticky; top:0; z-index:10;
  border-bottom:1px solid var(--border);
}
h1{margin:0 0 12px;font-weight:800;letter-spacing:.2px}
.controls{
  display:flex; flex-wrap:wrap; gap:var(--gap); align-items:center;
}
.controls input[type="search"], .controls select{
  padding:10px 12px; border-radius:12px; border:1px solid var(--border);
  background:#fff; color:var(--text); min-width:220px; box-shadow:0 1px 0 rgba(0,0,0,.03);
}
.controls .file input{display:none}
.controls .file span, button{
  background:var(--accent);
  color:#fff; border:0; border-radius:12px; padding:10px 14px; cursor:pointer;
  box-shadow:0 4px 10px rgba(106,166,255,.25);
}
button{min-height:40px}
button:hover{filter:brightness(.95)}

/* Main */
main{padding:24px; overflow-y:auto; scroll-behavior:smooth}

/* KPIs */
.kpis{
  display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:var(--gap); margin-bottom:24px;
}
.kpi{
  background:var(--card); padding:18px; border-radius:16px; border:1px solid var(--border);
  box-shadow:0 6px 18px rgba(0,0,0,.04);
}
.kpi-value{font-size:30px; font-weight:800}
.kpi-label{font-size:12px; color:var(--muted); text-transform:uppercase; letter-spacing:.08em}

/* Charts (fixed but responsive heights) */
.chart{
  background:var(--card); border:1px solid var(--border); border-radius:18px;
  padding:10px; margin-bottom:28px; width:100%; height:520px;
  display:flex; align-items:stretch; justify-content:center;
  box-shadow:0 10px 24px rgba(0,0,0,.05);
}
.chart > div.js-plotly-plot, .chart > .plot-container{
  flex:1 1 auto; width:100% !important; height:100% !important; overflow:visible !important;
}

/* Responsive */
@media (max-width:1024px){ .chart{height:460px} }
@media (max-width:800px){
  .chart{height:380px}
  .controls input[type="search"], .controls select{min-width:180px}
}

/* Note */
.note{color:var(--muted); font-size:.95rem}
