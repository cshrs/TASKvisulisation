:root { 
    --gap: 16px; 
    --bg: #0f1115; 
    --card: #151822; 
    --text: #e7e9ef; 
    --muted: #9aa3b2; 
  }
  
  * { box-sizing: border-box; }
  
  html, body {
    height: 100%;
  }
  
  body { 
    margin: 0; 
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; 
    background: var(--bg); 
    color: var(--text); 
    overflow-x: hidden;
  }
  
  /* Header / Controls */
  header { 
    padding: 20px; 
    background: #0c0f15; 
    position: sticky; 
    top: 0; 
    z-index: 10; 
    border-bottom: 1px solid #1d2330; 
  }
  
  h1 { 
    margin: 0 0 12px; 
    font-weight: 700; 
  }
  
  .controls { 
    display: flex; 
    flex-wrap: wrap; 
    gap: var(--gap); 
    align-items: center; 
  }
  
  .controls input[type="search"], 
  .controls select { 
    padding: 10px 12px; 
    border-radius: 10px; 
    border: 1px solid #2a3244; 
    background: var(--card); 
    color: var(--text); 
    min-width: 240px;
  }
  
  .controls .file input { display: none; }
  
  .controls .file span, 
  button { 
    background: #2b3347; 
    color: #fff; 
    border: 1px solid #3a4560; 
    border-radius: 10px; 
    padding: 10px 12px; 
    cursor: pointer; 
  }
  
  button { min-height: 40px; }
  
  /* Main section */
  main { 
    padding: 20px; 
    overflow-y: auto; 
    scroll-behavior: smooth;
  }
  
  /* KPI cards */
  .kpis { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); 
    gap: var(--gap); 
    margin-bottom: 24px; 
  }
  
  .kpi { 
    background: var(--card); 
    padding: 16px; 
    border-radius: 16px; 
    border: 1px solid #1f2636; 
  }
  
  .kpi-value { 
    font-size: 28px; 
    font-weight: 800; 
  }
  
  .kpi-label { 
    font-size: 12px; 
    color: var(--muted); 
    text-transform: uppercase; 
    letter-spacing: .08em; 
  }
  
  /* Chart containers */
  .chart { 
    background: var(--card); 
    border: 1px solid #1f2636; 
    border-radius: 16px; 
    padding: 8px; 
    margin-bottom: 32px; 
    width: 100%;
    height: 600px;             /* ✅ Taller default height */
    display: flex;
    align-items: stretch;
    justify-content: center;
  }
  
  .chart > div.js-plotly-plot,
  .chart > .plot-container {
    flex: 1 1 auto;
    width: 100% !important;
    height: 100% !important;   /* ✅ ensures the Plotly canvas fills container */
    overflow: visible !important;
  }
  
  /* Responsive adjustments */
  @media (max-width: 1024px) {
    .chart { height: 500px; }
  }
  @media (max-width: 800px) {
    .chart { height: 400px; }
    .controls input[type="search"], 
    .controls select { min-width: 180px; }
  }
  
  /* Note text */
  .note { 
    color: var(--muted); 
    margin-top: 16px; 
    font-size: 0.9rem;
  }
  